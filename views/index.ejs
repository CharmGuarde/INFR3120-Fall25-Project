<div class="page-container d-flex justify-content-center w-100">
  <div class="glass-card w-100" style="max-width: 850px;">

    <!-- Page Title -->
    <h1 class="text-center text-white mb-4">Your Tasks</h1>

    <!-- Add Task Form -->
    <form action="/add" method="POST" class="mb-4">
      <div class="row">
        <div class="col-md-6 mb-3">
          <label class="form-label text-white">Title</label>
          <input type="text" name="title" class="form-control" required placeholder="Task name">
        </div>

        <div class="col-md-6 mb-3">
          <label class="form-label text-white">Due Date</label>
          <input type="date" name="dueDate" class="form-control">
        </div>
      </div>

      <div class="mb-3">
        <label class="form-label text-white">Description</label>
        <textarea name="description" class="form-control" rows="2"></textarea>
      </div>

      <button class="btn btn-primary w-100 glass-btn">Add Task</button>
    </form>

    <!-- Task List -->
    <div class="task-table-wrapper mt-4">
      <h3 class="text-white mb-3">Task List</h3>

      <% if (tasks.length === 0) { %>
        <p class="text-center text-light">No tasks yet. Add one above! üòä</p>
      <% } else { %>

      <table class="table table-hover table-bordered align-middle">
        <thead>
          <tr>
            <th>Title</th>
            <th>Due</th>
            <th>Status</th>
            <th class="text-center">Actions</th>
          </tr>
        </thead>

        <tbody>
          <% tasks.forEach(task => { %>
          <tr class="task-row <%= task.completed ? 'completed-task' : '' %>">
            <td><%= task.title %></td>

            <td>
              <%= task.dueDate ? new Date(task.dueDate).toLocaleDateString() : '‚Äî' %>
            </td>

            <td>
              <% if (task.completed) { %>
                ‚úî Done
              <% } else { %>
                ‚è≥ Active
              <% } %>
            </td>

            <td class="text-center">
              <form action="/toggle/<%= task._id %>" method="POST" class="d-inline">
                <button class="btn btn-sm btn-success"><%= task.completed ? 'Undo' : 'Done' %></button>
              </form>
              <form action="/edit/<%= task._id %>" method="POST" class="d-inline">
                <button class="btn btn-sm btn-warning">Edit</button>
              </form>
              <form action="/delete/<%= task._id %>" method="POST" class="d-inline">
                <button class="btn btn-sm btn-danger">Delete</button>
              </form>
            </td>
          </tr>
          <% }) %>
        </tbody>
      </table>

      <% } %>
    </div>

  </div>
</div>
`
