<!--
  navbar with glass effect
  adds greeting "Hi, username" when logged in
  ul means unordered list
  il means list item
-->

<nav class="glass-nav navbar navbar-expand-lg fixed-top">
  <div class="container">

    <!-- Logo -->
    <a class="navbar-brand text-dark fw-bold" href="/">
      <img src="/logo.png" class="nav-logo me-2" /> Task Manager
    </a>

    <button class="navbar-toggler text-dark" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
      <i class="fas fa-bars"></i>
    </button>

    <div class="collapse navbar-collapse" id="navMenu">
      <ul class="navbar-nav ms-auto">

        <!-- Always visible links -->
        <li class="nav-item"><a class="nav-link text-dark" href="/">Home</a></li>
        <li class="nav-item"><a class="nav-link text-dark" href="/about">About</a></li>
        <li class="nav-item"><a class="nav-link text-dark" href="/contact">Contact</a></li>
        <!-- NEW CODE SETTINGS-->
        <li class="nav-item">
          <a class="nav-link" href="/settings">Settings</a>
        </li> 


        <% if (user) { %>
          <!-- Greeting -->
          <li class="nav-item">
            <span class="nav-link text-dark fw-bold">
              Hi, <%= username %>
            </span>
          </li>

          <!-- Logged-in links -->
          <li class="nav-item"><a class="nav-link text-dark" href="/tasks">Tasks</a></li>

        <% } else { %>
          <!-- Guest links -->
          <li class="nav-item"><a class="nav-link text-dark" href="/login">Login</a></li>
          <li class="nav-item"><a class="nav-link text-dark" href="/register">Register</a></li>
        <% } %>

      </ul>
    </div>

  </div>
</nav>
